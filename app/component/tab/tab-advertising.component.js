"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require("@angular/core");
var hub_service_1 = require("../../service/hub.service");
var user_service_1 = require("../../service/user.service");
var config_service_1 = require("../../service/config.service");
var offer_service_1 = require("../../service/offer.service");
var history_service_1 = require("../../service/history.service");
var analysis_service_1 = require("../../service/analysis.service");
var session_service_1 = require("../../service/session.service");
var TabAdvertisingComponent = (function () {
    function TabAdvertisingComponent(_hubService, _userService, _configService, _offerService, _analysisService, _historyService, _sessionService) {
        this._hubService = _hubService;
        this._userService = _userService;
        this._configService = _configService;
        this._offerService = _offerService;
        this._analysisService = _analysisService;
        this._historyService = _historyService;
        this._sessionService = _sessionService;
        this.iconSource = ["url(res/main_offers_color.png)", "url(res/analitic.png)", "url(res/history.png)"];
        this.activeMenu = 0;
        this.chartID = "Chart" + Math.floor(Math.random() * (9999 - 1000 + 1)) + 1000;
        this.hitsCount = 0;
        this.page = 0;
        this.perPage = 32;
        this.source = offer_service_1.OfferSource.LOCAL;
        this.filter = {
            stageCode: 'all',
            agentId: 'all',
            tag: 'all',
            changeDate: 90,
            offerTypeCode: 'sale',
        };
        this.sort = {};
        this.searchQuery = "";
        this.searchArea = [];
        this.advArray = [
            ['Авито', 500, 400, 329, 230, 150, 50],
            ['Фарпост', 500, 400, 329, 230, 150, -50],
            ['ВНХ', 500, 400, 329, 230, 150, -24],
            ['Из рук в руки', 500, 400, 329, 230, 150, -18],
            ['Презент', 500, 400, 329, 230, 150, 17],
            ['ЦИАН', 500, 400, 329, 230, 150, 24],
            ['Барахла', 500, 400, 329, 230, 150, -3],
            ['Авито', 500, 400, 329, 230, 150, -10]
        ];
        this.advArray1 = [];
    }
    TabAdvertisingComponent.prototype.ngOnInit = function () {
        this.tab.header = "Реклама";
        this.listOffers();
    };
    TabAdvertisingComponent.prototype.ngAfterViewInit = function () {
    };
    TabAdvertisingComponent.prototype.toggleSource = function (s) {
        if (s == 'main') {
            this.iconSource[0] = "url(res/main_offers_color.png)";
            this.iconSource[1] = "url(res/analitic.png)";
            this.iconSource[2] = "url(res/history.png)";
            this.activeMenu = 0;
        }
        else if (s == 'analitic') {
            this.iconSource[0] = "url(res/main_offers.png)";
            this.iconSource[1] = "url(res/analitic_color.png)";
            this.iconSource[2] = "url(res/history.png)";
            this.activeMenu = 1;
        }
        else {
            this.iconSource[0] = "url(res/main_offers.png)";
            this.iconSource[1] = "url(res/analitic.png)";
            this.iconSource[2] = "url(res/history_color.png)";
            this.activeMenu = 2;
        }
    };
    TabAdvertisingComponent.prototype.listOffers = function () {
        var _this = this;
        this._offerService.list(this.page, this.perPage, this.source, this.filter, this.sort, this.searchQuery, this.searchArea).subscribe(function (data) {
            _this.hitsCount = data.hitsCount || 0;
            if (_this.page == 0) {
                _this.offers = data.list;
            }
            else {
                data.list.forEach(function (i) {
                    _this.offers.push(i);
                });
            }
        }, function (err) { return console.log(err); });
    };
    TabAdvertisingComponent.prototype.scroll = function (e) {
        if (e.currentTarget.scrollTop + e.currentTarget.clientHeight >= e.currentTarget.scrollHeight) {
            this.page += 1;
            this.listOffers();
        }
    };
    TabAdvertisingComponent.prototype.rand = function (max, min) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    };
    TabAdvertisingComponent.prototype.calcHeight = function () {
    };
    return TabAdvertisingComponent;
}());
TabAdvertisingComponent = __decorate([
    core_1.Component({
        selector: 'tab-advertising',
        inputs: ['tab'],
        styles: ["\n\n        .search-form {\n            background: #fff;\n            z-index: 1;\n            width: 38%;\n            margin-left: 610;\n            margin-top: 27px;\n        }\n\n        .tool-box {\n            height: 30px;\n            margin: 0 12px;\n        }\n\n        .inline-select {\n            display: inline-block;\n            height: 20px;\n            padding: 0 15px;\n            font-size: 14px;\n            color: #666;\n        }\n\n        .round_menu{\n            width: 170px;\n            height: 50px;\n            position: absolute;\n            left: 450;\n            top: 15px;\n            text-align: center;\n            z-index: 10;\n            line-height: 50px;\n            display: flex;\n            justify-content: space-around;\n        }\n\n        .search-box {\n            position: relative;\n            margin: 12px;\n            margin-bottom: 8px;\n        }\n\n        .button {\n            height: 50px;\n            width: 50px;\n            border-radius: 40px;\n            cursor: pointer;\n            font-size: 11px;\n            line-height: 120px;\n            background-size: cover;\n            color: #6b6c6d;\n        }\n\n        .main:hover{\n            background-image: url(res/main_offers_color.png);\n        }\n\n        .analitic:hover{\n            background-image: url(res/analitic_color.png) !important;\n        }\n\n        .history:hover{\n            background-image: url(res/history_color.png) !important;\n        }\n\n        .underline{\n            border: 2px solid;\n            color: #9279c8;\n            background-color: #9279c8;\n            position: relative;\n            top: -2;\n            width: 100vw;\n            margin-bottom: 0;\n        }\n\n        .work_list, .work_list1{\n            width: calc(100% - 30px);\n            height: calc(100% - 117px);\n            background: #f8f8f8;\n            overflow-y: auto;\n            position: absolute;\n        }\n\n        .work_list > .left_panel{\n            width: calc(100% - 1071px);\n            height: 100%;\n            float: left;\n        }\n\n        .work_list1 > .left_panel{\n            width: 65%;\n            height: 100%;\n            float: left;\n            display: flex;\n            flex-wrap: wrap;\n            justify-content: space-between;\n            align-content: flex-start;\n            overflow: hidden;\n        }\n\n        .work_list > .central_panel{\n            width: 700px;\n            height: 100%;\n            float: left;\n        }\n\n        .work_list >.right_panel{\n            width: 370px;\n            height: 100%;\n            float: left;\n        }\n\n        .work_list1 >.right_panel{\n            width: 35%;\n            height: 100%;\n            float: left;\n            overflow: hidden;\n        }\n\n        .map{\n            width: calc(700px - 122px);\n            position: relative;\n            display: block;\n            float: left;\n            margin-top: 10px;\n        }\n\n        .map_menu{\n            width: 100px;\n            float: left;\n            background-color: #f7f7f7;\n            margin-left: 10px;\n            margin-top: 10px;\n        }\n        .map_menu >div {\n            height: 30px;\n            width: 80%;\n            text-align: left;\n            background-color: rgba(0, 140, 219, 1);\n            color: #ffffff;\n            margin: 3px auto;\n            line-height: 30px;\n            font-size: 10pt;\n            padding-left: 20px;\n        }\n\n        .map_menu >div:hover, .active_map_menu {\n            background-color: rgba(18, 54, 120, 1) !important;\n            color: white !important;\n        }\n\n        .work_list table, .work_list1 table{\n            display: block;\n            width: 100%;\n            font-size: 9pt;\n            border-spacing: 0;\n            text-align: center;\n            height: 50%;\n            min-height: 335px;\n        }\n\n        .work_list1 table{\n            text-align: center;\n            width: calc(100% - 10px);\n            padding-left: 10px;\n            height: 50%;\n            font-size: 10pt;\n        }\n\n        .work_list table tr, .work_list1 table tr{\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n\n        .work_list table tbody tr:nth-child(odd){\n            background-color: #f9f9f9;\n        }\n\n        .work_list1 table tbody tr{\n            color: #828282;\n        }\n\n        .work_list1 .table1 tbody tr:nth-child(odd){\n            background-color: #f7faf3;\n        }\n\n        .work_list1 .table2 tbody tr:nth-child(odd){\n            background-color: #f3f8fd;\n        }\n\n        .work_list table tbody tr:nth-child(even), .work_list table thead tr, .work_list1 table tbody tr:nth-child(even), .work_list1 table thead tr{\n            background-color: #ffffff;\n        }\n\n        .work_list table thead, .work_list1 table thead{\n            display: block;\n        }\n\n        .work_list1 table thead {\n            height: 20px;\n            font-size: 10pt;\n            color: #587731;\n            line-height: 20px;\n        }\n\n        .work_list1 .table2 thead {\n            color: #205087;\n        }\n\n        .work_list table tbody{\n            display: block;\n            overflow: auto;\n            height: calc(100% - 135px);\n        }\n\n        .work_list1 table tbody{\n            display: block;\n            overflow: auto;\n            height: calc(100% - 79px);\n        }\n\n        digest-pie-chart, digest-column-chart{\n            flex: 1 1 30%;\n            height: 48%;\n            margin: 3px;\n        }\n\n\n    "],
        template: "\n        <div class=\"header-label-abs\" style=\"margin: 2px 0 0 30px;\">{{ tab.header }}</div>\n        <div class = \"round_menu\">\n            <div (click)=\"toggleSource('main')\"     class=\"button main\"     [style.background-image]=\"iconSource[0]\">\u0413\u043B\u0430\u0432\u043D\u0430\u044F</div>\n            <div (click)=\"toggleSource('analitic')\" class=\"button analitic\" [style.background-image]=\"iconSource[1]\">\u0410\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430</div>\n            <div (click)=\"toggleSource('history')\"  class=\"button history\"  [style.background-image]=\"iconSource[2]\">\u0418\u0441\u0442\u043E\u0440\u0438\u044F</div>\n        </div>\n        <div class=\"search-form\">\n            <div class=\"search-box\">\n                <input type=\"text\" class=\"\" placeholder=\"\" style=\"height: 28px; width: 100%;\n                background-color: rgb(247, 247, 247); border: 1px solid rgba(204, 204, 204, 0.47);\"\n                    [(ngModel)]=\"searchQuery\" (keyup)=\"$event\"\n                >\n                <span class=\"icon-search\" style=\"position: absolute; right: 12px; top: 7px;\"></span>\n            </div>\n            <div class=\"tool-box\">\n\n\n            <div class=\"inline-select\">\n                <ui-select class=\"view-value edit-value\"\n                    [options] = \"[\n                        {value: 'sale', label: '\u041C\u043E\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'},\n                        {value: 'rent', label: '\u041D\u0435 \u043C\u043E\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F'}\n                    ]\"\n                    [value]=\"'sale'\"\n                    [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                    (onChange)=\"null\"\n                    >\n                </ui-select>\n            </div>\n            <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 0, label: '\u0412\u0441\u0435'},\n                            {value: 1, label: '\u041A\u0440\u0430\u0441\u043D\u044B\u0439', icon: 'icon-circle tag-red'},\n                            {value: 2, label: '\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439', icon: 'icon-circle tag-orange'},\n                            {value: 3, label: '\u0416\u0435\u043B\u0442\u044B\u0439', icon: 'icon-circle tag-yellow'},\n                            {value: 4, label: '\u0417\u0435\u043B\u0435\u043D\u044B\u0439', icon: 'icon-circle tag-green'},\n                            {value: 5, label: '\u0413\u043E\u043B\u0443\u0431\u043E\u0439', icon: 'icon-circle tag-blue'},\n                            {value: 6, label: '\u041B\u0438\u043B\u043E\u0432\u044B\u0439', icon: 'icon-circle tag-violet'},\n                            {value: 7, label: '\u0421\u0435\u0440\u044B\u0439', icon: 'icon-circle tag-gray'}\n                        ]\"\n                        [value]=\"0\"\n                        [config]=\"{icon: 'icon-tag', draw_arrow: true}\"\n                        (onChange)=\"null\"\n                        >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 1, label: '1 \u0434\u0435\u043D\u044C'},\n                            {value: 2, label: '3 \u0434\u043D\u044F'},\n                            {value: 3, label: '\u041D\u0435\u0434\u0435\u043B\u044F'},\n                            {value: 4, label: '2 \u043D\u0435\u0434\u0435\u043B\u0438'},\n                            {value: 5, label: '\u041C\u0435\u0441\u044F\u0446'},\n                            {value: 6, label: '3 \u043C\u0435\u0441\u044F\u0446\u0430'},\n                            {value: 7, label: '\u0412\u0441\u0435'}\n                        ]\"\n                        [value]=\"6\"\n                        [config]=\"{icon: 'icon-month', drawArrow: true}\"\n                        (onChange)=\"null\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options]=\"[\n                            {value: 'all', label: '\u0412\u0441\u0435'},\n                            {value: 'raw', label: '\u041D\u0435 \u0430\u043A\u0442\u0438\u0432\u0435\u043D'},\n                            {value: 'active', label: '\u0410\u043A\u0442\u0438\u0432\u0435\u043D'},\n                            {value: 'price', label: '\u041F\u0440\u0430\u0439\u0441'},\n                            {value: 'deal', label: '\u0421\u0434\u0435\u043B\u043A\u0430'},\n                            {value: 'suspended', label: '\u041F\u0440\u0438\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D'},\n                            {value: 'archive', label: '\u0410\u0440\u0445\u0438\u0432'}\n                        ]\"\n                        [value]=\"filter.stage\"\n                        [config]=\"{icon: 'icon-square', drawArrow: true}\"\n                        (onChange)=\"filter.stageCode = $event.selected.value; searchParamChanged($event);\"\n                    >\n                    </ui-select>\n                </div>\n                <div class=\"inline-select\">\n                    <ui-select class=\"view-value edit-value\"\n                        [options] = \"[\n                            {value: 'sale', label: '\u041F\u0440\u043E\u0434\u0430\u0436\u0430'},\n                            {value: 'rent', label: '\u0410\u0440\u0435\u043D\u0434\u0430'}\n                        ]\"\n                        [value]=\"'sale'\"\n                        [config]=\"{icon: 'icon-', draw_arrow: true}\"\n                        (onChange)=\"null\"\n                        >\n                    </ui-select>\n                </div>\n            </div>\n        </div>\n        <hr class=\"underline\">\n        <div *ngIf=\"activeMenu == 0\" class=\"work_list\">\n            <div class=\"left_panel\">\n                <table>\n                    <thead>\n                        <tr>\n                            <td style=\"width: 15px\"></td>\n                            <td style=\"width: 15px\"><div style=\"width: 15px\">\u0422\u044D\u0433</div></td>\n                            <td style=\"width: 250px\">\u041E\u0431\u044A\u0435\u043A\u0442</td>\n                            <td style=\"width: 75px\">\u0420\u0435\u0439\u0442\u0438\u043D\u0433</td>\n                            <td style=\"width: 40px\">\u0417\u0430\u044F\u0432\u043A\u0430</td>\n                            <td style=\"width: 40px\">\u0418\u043D\u0442\u0435\u0440\u0435\u0441</td>\n                            <td style=\"width: 40px\">\u0414\u0435\u043B\u044C\u0442\u0430</td>\n                            <td style=\"width: 40px\">\u041F\u043E\u043A\u0430\u0437</td>\n                        </tr>\n                    </thead>\n                    <tbody (scroll)=\"scroll($event)\">\n                        <tr *ngFor=\"let offer of offers\">\n                            <td style=\"width: 15px\">{{\"  \"}}</td>\n                            <td style=\"width: 15px\">{{\"  \"}}</td>\n                            <td>\n                                <digest-offer\n                                    style=\"width: 250px; display: block; background-color: transparent;\"\n                                    [offer]=\"offer\"\n                                    [compact]=\"true\"\n                                    (click)=\"click($event, offer)\"\n                                    (contextmenu)=\"click($event, offer)\"\n                                    (dblclick)=\"dblClick(offer)\"\n                                    (touchstart)=\"tStart(offer)\"\n                                    (touchend)=\"tEnd(offer)\"\n                                >\n                                </digest-offer>\n                            </td>\n                            <td style=\"width: 75px\">4</td>\n                            <td style=\"width: 40px\">5</td>\n                            <td style=\"width: 40px\">6</td>\n                            <td style=\"width: 40px\">7</td>\n                            <td style=\"width: 40px\">8</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <!------------------------------------------------------------------------------------------------------------------->\n            <div class=\"central_panel\">\n                <digest-pie-chart style=\"float: left; margin-right: 10px;\"\n                    [header]=\"'\u041E\u0431\u044A\u0435\u043A\u0442\u044B \u043F\u043E \u0442\u0438\u043F\u0443'\"\n                    [data]=\"[\n                        ['\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u044B', 300],\n                        ['\u041C\u0430\u043B\u043E\u0441\u0435\u043C\u0435\u0439\u043A\u0438', 200],\n                        ['\u041A\u043E\u043C\u043D\u0430\u0442\u044B', 170],\n                        ['\u0414\u043E\u043C\u0430', 90],\n                        ['\u041A\u043E\u043C\u043C\u0435\u0440\u0447\u0435\u0441\u043A\u0430\u044F', 110]\n                    ]\"\n                    [hard_data]=\"false\"\n                    [result] = \"['870']\"\n                    [width] = \"'369px'\"\n                    [height] = \"'174px'\"\n                >\n                </digest-pie-chart>\n                <digest-pie-chart style=\"float: left; margin-right: 10px;\"\n                    [header]=\"'\u041E\u0431\u044A\u0435\u043A\u0442\u044B \u043F\u043E \u0440\u0430\u0439\u043E\u043D\u0430\u043C'\"\n                    [data]=\"[\n                        ['\u0416\u0435\u043B\u0435\u0437\u043D\u043E\u0434\u043E\u0440\u043E\u0436\u043D\u044B\u0439', 320],\n                        ['\u041A\u0438\u0440\u043E\u0432\u0441\u043A\u0438\u0439'      , 222],\n                        ['\u041A\u0440\u0430\u0441\u043D\u043E\u0444\u043B\u043E\u0442\u0441\u043A\u0438\u0439' , 120],\n                        ['\u0418\u043D\u0434\u0443\u0441\u0442\u0440\u0438\u0430\u043B\u044C\u043D\u044B\u0439' , 69],\n                        ['\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439'    , 150]\n                    ]\"\n                    [hard_data]=\"false\"\n                    [result] = \"['1500']\"\n                    [width] = \"'310px'\"\n                    [height] = \"'174px'\"\n                >\n                </digest-pie-chart>\n                <digest-column-chart style=\"float: left; margin-right: 10px;  margin-top: 10px;\"\n                    [header]=\"'\u0417\u0430\u044F\u0432\u043A\u0438 \u043F\u043E \u0440\u0430\u0439\u043E\u043D\u0430\u043C'\"\n                    [data]=\"[\n                        ['\u0416\u0435\u043B\u0435\u0437\u043D\u043E\u0434\u043E\u0440\u043E\u0436\u043D\u044B\u0439', 73],\n                        ['\u041A\u0438\u0440\u043E\u0432\u0441\u043A\u0438\u0439'      , 58],\n                        ['\u041A\u0440\u0430\u0441\u043D\u043E\u0444\u043B\u043E\u0442\u0441\u043A\u0438\u0439' , 43],\n                        ['\u0418\u043D\u0434\u0443\u0441\u0442\u0440\u0438\u0430\u043B\u044C\u043D\u044B\u0439' , 28],\n                        ['\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439'    , 41]\n                    ]\"\n                    [hard_data]=\"false\"\n                    [result] = \"['1500', 40]\"\n                    [height] = \"'176px'\"\n                    [graph_width] = \"200\"\n                    [width] = \"'369px'\"\n                >\n                </digest-column-chart>\n                <digest-pie-chart style=\"float: left; margin-top: 10px;\"\n                    [header]=\"'\u0417\u0430\u044F\u0432\u043A\u0438 \u043F\u043E \u0442\u0438\u043F\u0443'\"\n                    [data]=\"[\n                        ['\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u044B', 15],\n                        ['\u041C\u0430\u043B\u043E\u0441\u0435\u043C\u0435\u0439\u043A\u0438', 24],\n                        ['\u041A\u043E\u043C\u043D\u0430\u0442\u044B', 30],\n                        ['\u0414\u043E\u043C\u0430', 8],\n                        ['\u041A\u043E\u043C\u043C\u0435\u0440\u0447\u0435\u0441\u043A\u0430\u044F', 2]\n                    ]\"\n                    [hard_data]=\"false\"\n                    [result] = \"['95']\"\n                    [width] = \"'310px'\"\n                    [height] = \"'174px'\"\n                >\n                </digest-pie-chart>\n                <div >\n                    <google-map class=\"map\"\n                    >\n\n                    </google-map>\n                    <div class=\"map_menu\">\n                        <div [class.active_map_menu]=\"selectMapMenu == 1\" (click)=\"setMenu(1)\" style=\"margin-top: 1px;\">\u0424\u043E\u0442\u043E</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 2\" (click)=\"setMenu(2)\">\u041A\u0430\u0440\u0442\u0430</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 3\" (click)=\"setMenu(3)\">\u041F\u043E\u043D\u043E\u0440\u0430\u043C\u0430</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 4\" (click)=\"setMenu(4)\">\u041C\u0430\u0440\u0448\u0440\u0443\u0442\u044B</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 5\" (click)=\"similarObjSelected()\">\u041F\u043E\u0445\u043E\u0436\u0438\u0435</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 6\" (click)=\"requestsSelected()\">\u0417\u0430\u044F\u0432\u043A\u0438</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 7\" (click)=\"setMenu(7)\">\u0420\u0435\u043A\u043B\u0430\u043C\u0430</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 8\" (click)=\"setMenu(8)\">\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 9\" (click)=\"setMapQuery('\u041E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u0435', 9)\">\u041E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u0435</div>\n                        <div [class.active_map_menu]=\"selectMapMenu == 10\" (click)=\"setMapQuery('\u043C\u0430\u0433\u0430\u0437\u0438\u043D\u044B', 10)\">\u041F\u0440\u043E\u0434\u0443\u043A\u0442\u044B</div>\n                    </div>\n                </div>\n            </div>\n            <!------------------------------------------------------------------------------------------------------------------->\n            <div class=\"right_panel\">\n                <digest-pie-chart\n                    [header]=\"'\u0420\u0435\u043A\u043B\u0430\u043C\u0430 \u043E\u0431\u044A\u0435\u043A\u0442\u043E\u0432'\"\n                    [data]=\"[\n                        ['\u0410\u0432\u0438\u0442\u043E', 800, +18.7],\n                        ['\u0424\u0430\u0440\u043F\u043E\u0441\u0442', 400, -18.3],\n                        ['\u041F\u0440\u0435\u0437\u0435\u043D\u0442', 350, +10.3]\n                    ]\"\n                    [hard_data]=\"true\"\n                    [result] = \"['1500', 16.7]\"\n                    [height] = \"'160px'\"\n                    [width] = \"'338px'\"\n                >\n                </digest-pie-chart>\n                <ui-advertising> </ui-advertising>\n            </div>\n        </div>\n\n<!------------------------------------------------------------------------------------------------------------------->\n<!-------------------------------\u0410\u041D\u0410\u041B\u0418\u0422\u0418\u041A\u0410---------------------------------------------------->\n<!------------------------------------------------------------------------------------------------------------------->\n\n        <div *ngIf=\"activeMenu == 1\" class=\"work_list1\">\n            <div class=\"left_panel\">\n                <div style=\"height: 50%; min-height:335px; display: flex; flex-wrap: wrap; justify-content: space-between;\n                        align-content: space-between;\"\n                >\n                    <digest-pie-chart\n                        [header]=\"'\u0420\u0430\u0441\u0445\u043E\u0434\u044B \u043F\u043E \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430\u043C'\"\n                        [data]=\"[\n                            ['\u0410\u0432\u0438\u0442\u043E', 8000, 18.7],\n                            ['\u0424\u0430\u0440\u043F\u043E\u0441\u0442', 4000, -18.7],\n                            ['\u041F\u0440\u0435\u0437\u0435\u043D\u0442', 3000, 18.7],\n                            ['\u0418\u0437 \u0440\u0443\u043A \u0432 \u0440\u0443\u043A\u0438', 2000],\n                            ['\u0412\u041D\u0425', 1000, -40.5]\n                        ]\"\n                        [hard_data]=\"true\"\n                        [result] = \"['14000', -20.2]\"\n                        [width] = \"'375px'\"\n                        [height] = \"calcHeight()\"\n                    >\n                    </digest-pie-chart>\n                    <digest-pie-chart\n                        [header]=\"'\u041F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043F\u043E \u0440\u0430\u0439\u043E\u043D\u0430\u043C'\"\n                        [data]=\"[\n                            ['\u0416\u0435\u043B\u0435\u0437\u043D\u043E\u0434\u043E\u0440\u043E\u0436\u043D\u044B\u0439', 320],\n                            ['\u041A\u0438\u0440\u043E\u0432\u0441\u043A\u0438\u0439'      , 222],\n                            ['\u041A\u0440\u0430\u0441\u043D\u043E\u0444\u043B\u043E\u0442\u0441\u043A\u0438\u0439' , 120],\n                            ['\u0418\u043D\u0434\u0443\u0441\u0442\u0440\u0438\u0430\u043B\u044C\u043D\u044B\u0439' , 69],\n                            ['\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439'    , 150]\n                        ]\"\n                        [hard_data]=\"false\"\n                        [result] = \"['1500']\"\n                        [width] = \"'335px'\"\n                        [height] = \"'180px'\"\n                    >\n                    </digest-pie-chart>\n\n                    <digest-column-chart\n                        [header]=\"'\u041F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043F\u043E \u0442\u0438\u043F\u0443'\"\n                        [data]=\"[\n                            ['\u041A\u043E\u043C\u043D\u0430\u0442\u0430', 48],\n                            ['\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430', 34],\n                            ['\u041C\u0430\u043B\u043E\u0441\u0435\u043C\u0435\u0439\u043A\u0430', 18],\n                            ['\u0413\u043E\u0441\u0442\u0438\u043D\u043A\u0430', 20],\n                            ['\u041A\u043E\u0442\u0442\u0435\u0434\u0436', 25],\n                            ['\u0423\u0447\u0430\u0441\u0442\u043E\u043A', 45]\n                        ]\"\n                        [hard_data]=\"false\"\n                        [result] = \"['1500', 40]\"\n                        [height] = \"'180px'\"\n                        [graph_width] = \"200\"\n                        [width] = \"'360px'\"\n                    >\n                    </digest-column-chart>\n\n                    <digest-pie-chart\n                    [header]=\"'\u0417\u0430\u044F\u0432\u043A\u0438 \u043F\u043E \u0442\u0438\u043F\u0443'\"\n                    [data]=\"[\n                        ['\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u044B', 15, 3.4],\n                        ['\u041C\u0430\u043B\u043E\u0441\u0435\u043C\u0435\u0439\u043A\u0438', 24, 4.8],\n                        ['\u041A\u043E\u043C\u043D\u0430\u0442\u044B', 30, -5.3],\n                        ['\u0414\u043E\u043C\u0430', 8, -3.2],\n                        ['\u041A\u043E\u043C\u043C\u0435\u0440\u0447\u0435\u0441\u043A\u0430\u044F', 2, 10.1]\n                    ]\"\n                    [hard_data]=\"true\"\n                    [result] = \"['95', 5.6]\"\n                    [width] = \"'335px'\"\n                    [height] = \"'165px'\"\n                    >\n                    </digest-pie-chart>\n                    <digest-pie-chart\n                        [header]=\"'\u0417\u0430\u044F\u0432\u043A\u0438 \u043F\u043E \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430\u043C'\"\n                        [data]=\"[\n                            ['\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442', 329, 13.4],\n                            ['\u041F\u0435\u0447\u0430\u0442\u043D\u043E\u0435 \u0438\u0437\u0434\u0430\u043D\u0438\u0435', 270, -14.8],\n                            ['\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0437\u0432\u043E\u043D\u043E\u043A', 120, 15.3]\n                        ]\"\n                        [hard_data]=\"true\"\n                        [result] = \"['759', -45.6]\"\n                        [width] = \"'360px'\"\n                        [height] = \"'165px'\"\n                    >\n                    </digest-pie-chart>\n                    <digest-column-chart\n                        [header]=\"'\u0417\u0430\u044F\u0432\u043A\u0438 \u043F\u043E \u0440\u0430\u0439\u043E\u043D\u0430\u043C'\"\n                        [data]=\"[\n                            ['\u0416\u0435\u043B\u0435\u0437\u043D\u043E\u0434\u043E\u0440\u043E\u0436\u043D\u044B\u0439', 73],\n                            ['\u041A\u0438\u0440\u043E\u0432\u0441\u043A\u0438\u0439'      , 58],\n                            ['\u041A\u0440\u0430\u0441\u043D\u043E\u0444\u043B\u043E\u0442\u0441\u043A\u0438\u0439' , 43],\n                            ['\u0418\u043D\u0434\u0443\u0441\u0442\u0440\u0438\u0430\u043B\u044C\u043D\u044B\u0439' , 28],\n                            ['\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439'    , 41]\n                        ]\"\n                        [hard_data]=\"false\"\n                        [result] = \"['1500', 40]\"\n                        [height] = \"'165px'\"\n                        [graph_width] = \"200\"\n                        [width] = \"'375px'\"\n                    >\n                    </digest-column-chart>\n                </div>\n                <div style=\"width: 100%; height: 50%; min-height:335px; position: relative;\">\n                    <digest-area-chart style=\"width: 100%;position: absolute;bottom: 0;right: 0;\"\n                        [header]=\"'\u0420\u0435\u043A\u043B\u0430\u043C\u0430 \u0432 \u0434\u0438\u043D\u0430\u043C\u0438\u043A\u0435'\"\n                        [data]=\"[\n                            ['\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442', 329, 13.4],\n                            ['\u041F\u0435\u0447\u0430\u0442\u043D\u043E\u0435 \u0438\u0437\u0434\u0430\u043D\u0438\u0435', 270, -14.8],\n                            ['\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0437\u0432\u043E\u043D\u043E\u043A', 120, 15.3]\n                        ]\"\n                        [hard_data]=\"true\"\n                        [result] = \"['759', -45.6]\"\n                        [width] = \"'100%'\"\n                    >\n                    </digest-area-chart>\n                </div>\n            </div>\n            <!------------------------------------------------------------------------------------------------------------------->\n\n            <!------------------------------------------------------------------------------------------------------------------->\n            <div class=\"right_panel\">\n                <table class=\"table1\">\n                <div style=\"height: 60px; display: flex; background-color: white; width: 100%; justify-content: space-between;\">\n                    <div style=\"text-transform: uppercase; color: #4c4c4c; margin: 7px 0 20px 10px; font-size: 13pt;\">\n                            \u041A\u043E\u043D\u0432\u0435\u0440\u0441\u0438\u044F \u0440\u0435\u043A\u043B\u0430\u043C\u044B\n                    </div>\n                    <div style=\"text-transform: uppercase;color: #008000;margin: 2px 30 20px;font-size: 19pt;\">40%</div>\n                </div>\n                    <thead>\n                        <tr>\n                            <td style=\"width: calc(100% - 390px)\">\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A</td>\n                            <td style=\"width: 60px\">\u041E\u0431\u044A\u0435\u043A\u0442</td>\n                            <td style=\"width: 60px\">\u0417\u0430\u044F\u0432\u043A\u0438</td>\n                            <td style=\"width: 60px\">\u041F\u043E\u043A\u0430\u0437\u044B</td>\n                            <td style=\"width: 60px\">\u0426\u0435\u043D\u044B</td>\n                            <td style=\"width: 70px\">\u0414\u043E\u0433\u043E\u0432\u043E\u0440\u0430</td>\n                            <td style=\"width: 80px\">\u041A\u043E\u043D\u0432\u0435\u0440\u0441\u0438\u044F</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let data of advArray\">\n                            <td style=\"width: calc(100% - 390px)\">{{data[0]}}</td>\n                            <td style=\"width: 60px\">{{data[1]}}</td>\n                            <td style=\"width: 60px\">{{data[2]}}</td>\n                            <td style=\"width: 60px\">{{data[3]}}</td>\n                            <td style=\"width: 60px\">{{data[4]}}</td>\n                            <td style=\"width: 70px\">{{data[5]}}</td>\n                            <td style=\"width: 80px\">{{data[6] + '%'}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n\n                <table class=\"table2\" style=\"margin-top: 20px;height: calc(50% - 20px);\">\n                    <div style=\"height: 60px; display: flex; background-color: white; width: 100%; justify-content: space-between;\">\n                        <div style=\"text-transform: uppercase; color: #4c4c4c; margin: 7px 0 20px 10px; font-size: 13pt;\">\n                            \u041B\u0438\u0434\u0435\u0440\u044B \u0441\u043F\u0440\u043E\u0441\u0430\n                        </div>\n                        <div style=\"text-transform: uppercase;color: #008000;margin: 2px 30 20px;font-size: 19pt;\"></div>\n                    </div>\n                    <thead>\n                        <tr>\n                            <td style=\"width: calc(100% - 250px)\">\u041E\u0431\u044A\u0435\u043A\u0442</td>\n                            <td style=\"width: 60px\">\u0417\u0430\u044F\u0432\u043A\u0430</td>\n                            <td style=\"width: 60px\">\u0418\u043D\u0442\u0435\u0440\u0435\u0441</td>\n                            <td style=\"width: 60px\">\u0414\u0435\u043B\u044C\u0442\u0430</td>\n                            <td style=\"width: 70px\">\u041F\u043E\u043A\u0430\u0437</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let data of offers\">\n                            <td style=\"width: calc(100% - 250px)\">\n                                <digest-offer\n                                    style=\"width: 250px; display: block; background-color: transparent;\"\n                                    [offer]=\"data\"\n                                    [compact]=\"true\"\n                                    (click)=\"click($event, data)\"\n                                    (contextmenu)=\"click($event, data)\"\n                                    (dblclick)=\"dblClick(data)\"\n                                    (touchstart)=\"tStart(data)\"\n                                    (touchend)=\"tEnd(data)\"\n                                >\n                                </digest-offer>\n                            </td>\n                            <td style=\"width: 60px\">70</td>\n                            <td style=\"width: 60px\">20</td>\n                            <td style=\"width: 60px\">150</td>\n                            <td style=\"width: 70px\">14</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div *ngIf=\"activeMenu == 2\" class=\"work_list1\">\n\n        </div>\n    "
    }),
    __metadata("design:paramtypes", [hub_service_1.HubService,
        user_service_1.UserService,
        config_service_1.ConfigService,
        offer_service_1.OfferService,
        analysis_service_1.AnalysisService,
        history_service_1.HistoryService,
        session_service_1.SessionService])
], TabAdvertisingComponent);
exports.TabAdvertisingComponent = TabAdvertisingComponent;
//# sourceMappingURL=tab-advertising.component.js.map